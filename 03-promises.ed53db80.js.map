{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SAC9BC,EAAaH,EAAKI,SAASC,MAC3BC,EAAYN,EAAKI,SAASG,KAC1BC,EAAcR,EAAKI,SAASK,OAC5BC,EAAMV,EAAKE,cAAc,UAsB/B,SAASS,EAAcC,EAAUC,GACf,IAAIC,SAAQ,SAACC,EAASC,GACdC,KAAKC,SAAW,GAEpCH,EAAQ,CAAEI,SAAAP,EAAUP,MAAAQ,IAEpBG,EAAO,CAAEG,SAAAP,EAAUP,MAAAQ,G,IAKpBO,MAAK,SAAAC,G,IAAGF,EAAQE,EAARF,SAAUd,EAAKgB,EAALhB,MACjBiB,EAAAxB,GAASyB,OAAOC,QACd,uBAA4CC,OAAnBN,EAAW,EAAE,QAAYM,OAANpB,EAAM,M,IAGrDqB,OAAM,SAAAL,G,IAAGF,EAAQE,EAARF,SAAUd,EAAKgB,EAALhB,MAClBiB,EAAAxB,GAASyB,OAAOI,QACd,sBAAyCF,OAAnBN,EAAW,EAAE,QAAYM,OAANpB,EAAM,M,IAGlDuB,SAAQ,W,OAAMlB,EAAImB,gBAAgB,W,IAzCvC7B,EAAK8B,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAIC,iBACJ,IAAMC,EAAaC,OAAO/B,EAAWgC,OAC/BC,EAAYF,OAAO5B,EAAU6B,OAC7BE,EAAcH,OAAO1B,EAAY2B,QAKzC,SAA2B9B,EAAOE,EAAME,GACtCC,EAAI4B,aAAa,WAAY,QAC7BC,QAAQC,IAAI,QACZ,IAAK,IAAIC,EAAI,EAAGA,EAAIhC,EAAQgC,GAAK,EAC/BC,WAAW/B,EAAeN,EAAOoC,EAAGpC,GACpCA,GAASE,C,CARXoC,CAAkBV,EAAYG,EAAWC,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\nconst inputDelay = form.elements.delay;\nconst inputStep = form.elements.step;\nconst inputAmount = form.elements.amount;\nconst btn = form.querySelector('button');\n\nform.addEventListener('submit', callback);\n\nfunction callback(evt) {\n  evt.preventDefault();\n  const delayValue = Number(inputDelay.value);\n  const stepValue = Number(inputStep.value);\n  const amountValue = Number(inputAmount.value);\n\n  promiseGeneration(delayValue, stepValue, amountValue);\n}\n\nfunction promiseGeneration(delay, step, amount) {\n  btn.setAttribute('disabled', 'true');\n  console.log('test');\n  for (let i = 0; i < amount; i += 1) {\n    setTimeout(createPromise, delay, i, delay);\n    delay += step;\n  }\n}\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n\n  promise\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(\n        `✅ Fulfilled promise ${position + 1} in ${delay}ms`\n      );\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.warning(\n        `❌ Rejected promise ${position + 1} in ${delay}ms`\n      );\n    })\n    .finally(() => btn.removeAttribute('disabled'));\n}\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$inputDelay","elements","delay","$ce04d3a99e08e73b$var$inputStep","step","$ce04d3a99e08e73b$var$inputAmount","amount","$ce04d3a99e08e73b$var$btn","$ce04d3a99e08e73b$var$createPromise","position1","delay1","Promise","resolve","reject","Math","random","position","then","param","$parcel$interopDefault","Notify","success","concat","catch","warning","finally","removeAttribute","addEventListener","evt","preventDefault","delayValue","Number","value","stepValue","amountValue","setAttribute","console","log","i","setTimeout","$ce04d3a99e08e73b$var$promiseGeneration"],"version":3,"file":"03-promises.ed53db80.js.map"}