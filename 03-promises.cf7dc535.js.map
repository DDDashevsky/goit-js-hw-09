{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAC9BC,EAAaH,EAAKI,SAASC,MAC3BC,EAAYN,EAAKI,SAASG,KAC1BC,EAAcR,EAAKI,SAASK,OAC5BC,EAAMV,EAAKE,cAAc,UAsB/B,SAASS,EAAcC,EAAUC,GACf,IAAIC,SAAQ,CAACC,EAASC,KACdC,KAAKC,SAAW,GAEpCH,EAAQ,CAAEI,SAAAP,EAAUP,MAAAQ,IAEpBG,EAAO,CAAEG,SAAAP,EAAUP,MAAAQ,GAAQ,IAK5BO,MAAK,EAACD,SAAEA,EAAQd,MAAEA,MACjBgB,EAAAvB,GAASwB,OAAOC,QACd,uBAAqBJ,EAAY,QAASd,MAAU,IAGvDmB,OAAM,EAACL,SAAEA,EAAQd,MAAEA,MAClBgB,EAAAvB,GAASwB,OAAOG,QACd,sBAAoBN,EAAU,QAASd,MAAU,IAGpDqB,SAAQ,IAAMhB,EAAIiB,gBAAgB,a,CAzCvC3B,EAAK4B,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAIC,iBACJ,MAAMC,EAAaC,OAAO7B,EAAW8B,OAC/BC,EAAYF,OAAO1B,EAAU2B,OAC7BE,EAAcH,OAAOxB,EAAYyB,QAKzC,SAA2B5B,EAAOE,EAAME,GACtCC,EAAI0B,aAAa,WAAY,QAC7BC,QAAQC,IAAI,QACZ,IAAK,IAAIC,EAAI,EAAGA,EAAI9B,EAAQ8B,GAAK,EAC/BC,WAAW7B,EAAeN,EAAOkC,EAAGlC,GACpCA,GAASE,C,CARXkC,CAAkBV,EAAYG,EAAWC,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\nconst inputDelay = form.elements.delay;\nconst inputStep = form.elements.step;\nconst inputAmount = form.elements.amount;\nconst btn = form.querySelector('button');\n\nform.addEventListener('submit', callback);\n\nfunction callback(evt) {\n  evt.preventDefault();\n  const delayValue = Number(inputDelay.value);\n  const stepValue = Number(inputStep.value);\n  const amountValue = Number(inputAmount.value);\n\n  promiseGeneration(delayValue, stepValue, amountValue);\n}\n\nfunction promiseGeneration(delay, step, amount) {\n  btn.setAttribute('disabled', 'true');\n  console.log('test');\n  for (let i = 0; i < amount; i += 1) {\n    setTimeout(createPromise, delay, i, delay);\n    delay += step;\n  }\n}\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n\n  promise\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(\n        `✅ Fulfilled promise ${position + 1} in ${delay}ms`\n      );\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.warning(\n        `❌ Rejected promise ${position + 1} in ${delay}ms`\n      );\n    })\n    .finally(() => btn.removeAttribute('disabled'));\n}\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$inputDelay","elements","delay","$47d4ff9957288465$var$inputStep","step","$47d4ff9957288465$var$inputAmount","amount","$47d4ff9957288465$var$btn","$47d4ff9957288465$var$createPromise","position1","delay1","Promise","resolve","reject","Math","random","position","then","$parcel$interopDefault","Notify","success","catch","warning","finally","removeAttribute","addEventListener","evt","preventDefault","delayValue","Number","value","stepValue","amountValue","setAttribute","console","log","i","setTimeout","$47d4ff9957288465$var$promiseGeneration"],"version":3,"file":"03-promises.cf7dc535.js.map"}